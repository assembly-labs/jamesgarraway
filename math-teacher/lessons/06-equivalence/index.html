<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex, nofollow">
  <title>Lesson 6: Equivalent Fractions - Football Fractions</title>
  <link rel="stylesheet" href="../../styles/main.css">
  <link rel="stylesheet" href="../../styles/components.css">
  <link rel="stylesheet" href="../../styles/football-theme.css">
  <link rel="stylesheet" href="../../styles/coaches-corner.css">
  <style>
    .lesson-container { max-width: 900px; margin: 0 auto; }
    .activity-section { background: var(--card-bg); border-radius: var(--radius-xl); padding: var(--space-xl); margin-bottom: var(--space-xl); box-shadow: 0 4px 20px var(--shadow); }
    .activity-header { display: flex; align-items: center; gap: var(--space-md); margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--border); }
    .activity-number { width: 40px; height: 40px; background: var(--field-green); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; }
    .activity-title { font-size: 1.25rem; font-weight: 700; }
    .concept-intro { background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%); border-left: 4px solid var(--field-green); padding: var(--space-lg); border-radius: 0 var(--radius-lg) var(--radius-lg) 0; margin-bottom: var(--space-xl); }
    .concept-intro h3 { color: var(--field-green); margin-bottom: var(--space-md); }
    .football-callout { background: linear-gradient(135deg, var(--field-green) 0%, var(--field-dark) 100%); color: white; padding: var(--space-lg); border-radius: var(--radius-lg); margin: var(--space-lg) 0; }
    /* Football Field Progress Bar - SUPER BOWL EDITION */
    :root { --eagles-green: #004C54; --opponent-color: #5A1414; }
    .field-progress { background: linear-gradient(135deg, #1a1a1a 0%, #333 100%); border-radius: var(--radius-xl); padding: var(--space-lg); margin-bottom: var(--space-xl); box-shadow: 0 4px 20px var(--shadow); border: 2px solid gold; }
    .field-matchup { display: flex; align-items: center; justify-content: space-between; margin-bottom: var(--space-md); }
    .field-team { display: flex; align-items: center; gap: var(--space-sm); }
    .field-team-logo { width: 40px; height: 40px; object-fit: contain; }
    .field-team-name { color: white; font-weight: 700; font-size: 0.875rem; }
    .field-vs { color: gold; font-weight: 900; font-size: 0.875rem; text-shadow: 0 0 10px rgba(255,215,0,0.5); }
    .field-container { position: relative; height: 50px; background: linear-gradient(90deg, var(--eagles-green) 0%, var(--eagles-green) 10%, var(--field-green) 10%, var(--field-green) 90%, var(--opponent-color) 90%, var(--opponent-color) 100%); border-radius: var(--radius-md); overflow: hidden; }
    .field-yard-markers { position: absolute; top: 0; left: 10%; right: 10%; height: 100%; display: flex; justify-content: space-between; }
    .field-yard-marker { width: 2px; height: 100%; background: rgba(255,255,255,0.3); }
    .field-yard-labels { display: flex; justify-content: space-between; padding: 0 10%; margin-top: var(--space-xs); }
    .field-yard-label { color: #888; font-size: 0.625rem; font-weight: 600; }
    .field-football { position: absolute; top: 50%; transform: translate(-50%, -50%); font-size: 1.5rem; transition: left 0.5s ease; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5)); z-index: 10; }
    .field-end-zone { position: absolute; top: 0; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-weight: 900; font-size: 0.625rem; text-transform: uppercase; }
    .field-end-zone.eagles { left: 0; width: 10%; background: var(--eagles-green); }
    .field-end-zone.opponent { right: 0; width: 10%; background: var(--opponent-color); }
    .field-status { text-align: center; color: gold; font-size: 0.75rem; margin-top: var(--space-sm); }
    .field-status strong { color: white; }
    .score-display { display: flex; gap: var(--space-xl); justify-content: center; background: var(--background); padding: var(--space-lg); border-radius: var(--radius-lg); margin-bottom: var(--space-xl); }
    .score-item { text-align: center; }
    .score-value { font-size: 2rem; font-weight: 700; color: var(--field-green); }
    .score-label { font-size: 0.875rem; color: var(--text-secondary); }
    .feedback { padding: var(--space-lg); border-radius: var(--radius-lg); text-align: center; font-weight: 700; margin: var(--space-lg) 0; display: none; }
    .feedback.correct { background: var(--correct-light); color: var(--correct); display: block; }
    .feedback.incorrect { background: var(--incorrect-light); color: var(--incorrect); display: block; }
    .activity-complete { text-align: center; padding: var(--space-xl); background: var(--correct-light); border-radius: var(--radius-lg); display: none; }
    .activity-complete.show { display: block; }
    .activity-complete h3 { color: var(--correct); margin-bottom: var(--space-md); }
    .lesson-nav { display: flex; justify-content: space-between; margin-top: var(--space-2xl); margin-bottom: var(--space-2xl); padding-top: var(--space-lg); border-top: 1px solid var(--border); }

    .number-line-container { background: var(--field-green); border-radius: var(--radius-lg); padding: var(--space-xl); margin: var(--space-xl) 0; position: relative; }
    .number-line { height: 60px; position: relative; margin: var(--space-lg) 40px; }
    .number-line-track { position: absolute; top: 50%; left: 0; right: 0; height: 4px; background: white; transform: translateY(-50%); }
    .number-line-tick { position: absolute; top: 50%; width: 2px; height: 20px; background: white; transform: translate(-50%, -50%); }
    .number-line-tick.major { height: 30px; width: 3px; }
    .number-line-label { position: absolute; top: calc(50% + 20px); transform: translateX(-50%); color: white; font-weight: 700; font-size: 0.875rem; }

    .fraction-cards { display: flex; flex-wrap: wrap; gap: var(--space-lg); justify-content: center; margin: var(--space-xl) 0; }
    .fraction-card { width: 100px; height: 80px; background: white; border: 3px solid var(--border); border-radius: var(--radius-lg); display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; transition: all var(--transition-fast); font-weight: 700; font-size: 1.5rem; }
    .fraction-card:hover { transform: scale(1.1); border-color: var(--field-green); }
    .fraction-card.selected { border-color: var(--info); background: var(--info-light); }
    .fraction-card.correct { border-color: var(--correct); background: var(--correct-light); }
    .fraction-card.incorrect { border-color: var(--incorrect); background: var(--incorrect-light); }

    .question-card { background: var(--background); border-radius: var(--radius-lg); padding: var(--space-xl); text-align: center; margin: var(--space-lg) 0; }
    .answer-options { display: flex; flex-wrap: wrap; gap: var(--space-md); justify-content: center; margin-top: var(--space-lg); }
    .answer-btn { padding: var(--space-md) var(--space-xl); border: 3px solid var(--border); border-radius: var(--radius-lg); background: white; cursor: pointer; font-size: 1.25rem; font-weight: 700; transition: all var(--transition-fast); }
    .answer-btn:hover { border-color: var(--field-green); transform: scale(1.05); }
    .answer-btn.selected { background: var(--info-light); border-color: var(--info); transform: scale(1.05); }
    .answer-btn.correct { background: var(--correct-light); border-color: var(--correct); }
    .answer-btn.incorrect { background: var(--incorrect-light); border-color: var(--incorrect); }
    .fraction-card.selected { border-color: var(--info); background: var(--info-light); transform: scale(1.05); }

    .multiplier-display { font-size: 1.5rem; margin: var(--space-lg) 0; }
    .multiplier-display span { color: var(--field-green); font-weight: 700; }
  </style>
</head>
<body>
  <nav class="nav">
    <div class="nav-container">
      <a href="../../index.html" class="nav-brand"><span>üèà</span><span>Football Fractions</span></a>
      <button class="nav-hamburger" id="navHamburger" aria-label="Toggle menu">‚ò∞</button>
      <ul class="nav-menu" id="navMenu">
        <li><a href="../../index.html" class="nav-link">Home</a></li>
        <li><a href="../../practice/index.html" class="nav-link">Practice</a></li>
        <li><a href="../../lessons/index.html" class="nav-link active">Game Time</a></li>
        <li class="nav-item">
          <a href="#" class="nav-link">
            Parents Stuff <span class="dropdown-arrow">‚ñº</span>
          </a>
          <ul class="nav-dropdown">
            <li><a href="../../parent-guide/index.html" class="nav-dropdown-link">Parent Guide</a></li>
            <li><a href="../../super-extra-curricular/index.html" class="nav-dropdown-link">Super Extra</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <header class="page-header">
    <div class="container">
      <div class="breadcrumb breadcrumb-light"><a href="../index.html">Game Time</a><span>></span><span>Lesson 6</span></div>
      <h1>Lesson 6: Equivalent Fractions</h1>
      <p>Same amount, different names!</p>
    </div>
  </header>

  <main class="container">
    <div class="lesson-container">
      <!-- Football Field Progress Bar - SUPER BOWL -->
      <div class="field-progress">
        <div class="field-matchup">
          <div class="field-team">
            <img src="../../images/nfl-logos/eagles.png" alt="Eagles" class="field-team-logo">
            <span class="field-team-name">Eagles</span>
          </div>
          <span class="field-vs">SUPER BOWL</span>
          <div class="field-team">
            <span class="field-team-name">Commanders</span>
            <img src="../../images/nfl-logos/commanders.png" alt="Commanders" class="field-team-logo">
          </div>
        </div>
        <div class="field-container">
          <div class="field-end-zone eagles">GO</div>
          <div class="field-yard-markers"><div class="field-yard-marker"></div><div class="field-yard-marker"></div><div class="field-yard-marker"></div><div class="field-yard-marker"></div><div class="field-yard-marker"></div></div>
          <div class="field-football" id="footballPosition" style="left: 10%;">üèà</div>
          <div class="field-end-zone opponent">TD</div>
        </div>
        <div class="field-yard-labels"><span class="field-yard-label">0</span><span class="field-yard-label">25</span><span class="field-yard-label">50</span><span class="field-yard-label">75</span><span class="field-yard-label">100</span></div>
        <div class="field-status"><span id="yardsDisplay"><strong>0</strong> yards to championship ‚Ä¢ <strong>100</strong> yards to glory</span></div>
      </div>
      <div class="score-display">
        <div class="score-item"><div class="score-value" id="scoreValue">0</div><div class="score-label">Points</div></div>
        <div class="score-item"><div class="score-value" id="activityNum">1</div><div class="score-label">of 3 Activities</div></div>
      </div>

      <div class="concept-intro">
        <h3>Coach's Lesson: Equivalent Fractions</h3>
        <p><strong>The WHY:</strong> Sometimes you need to change how a fraction looks without changing its VALUE. Like speaking different languages - "one half," "two quarters," and "four eighths" all mean the same thing! This skill helps you add fractions with different denominators and compare fractions.</p>
        <p style="margin-top: var(--space-md);"><strong>Why It Matters - A Real Problem:</strong> The Eagles gain <strong>1/4</strong> of the field on one play, then <strong>2/8</strong> on the next. How do you add these? You need to know that 1/4 = 2/8. NOW you can add: 2/8 + 2/8 = 4/8 = 1/2 the field! Without equivalent fractions, you're stuck. THIS is why equivalence matters!</p>
        <p style="margin-top: var(--space-md);"><strong>The Rule:</strong> Equivalent fractions are different fractions that represent the <strong>same amount</strong>. Whatever you do to the top, you MUST do to the bottom. That keeps it fair!</p>
        <p style="margin-top: var(--space-md);"><strong>The Secret:</strong> Multiply (or divide) both the numerator AND denominator by the SAME number. 1/2 √ó 2/2 = 2/4. 1/2 √ó 3/3 = 3/6. All equal to 1/2!</p>
        <div class="football-callout" style="margin-top: var(--space-lg);">
          <strong>Football Connection:</strong> It's the Super Bowl! The Commanders are at the 50-yard line. <strong>Jayden Daniels</strong> says "We're at 5/10 of the field." <strong>Terry McLaurin</strong> says "That's 1/2!" Coach <strong>Dan Quinn</strong> says "Or 50/100 yards!" They're ALL right - same spot, different names. But the <strong>Eagles</strong> defense knows: no matter what you call it, we're stopping you HERE.
        </div>
      </div>

      <!-- Activity 1: Match Equivalent Fractions -->
      <div class="activity-section" id="activity1">
        <div class="activity-header">
          <div class="activity-number">1</div>
          <div class="activity-title">Find the Match</div>
        </div>
        <p>Find the fraction that equals the one shown. They're at the same spot on the number line!</p>
        <div id="matchActivity"></div>
        <div class="feedback" id="feedback1"></div>
        <div class="activity-complete" id="complete1">
          <h3>Great Work!</h3>
          <p>You can spot equivalent fractions!</p>
          <button class="btn btn-primary" onclick="Lesson.showActivity(2)">Continue to Activity 2</button>
        </div>
      </div>

      <!-- Activity 2: Create Equivalent Fractions -->
      <div class="activity-section" id="activity2" style="display: none;">
        <div class="activity-header">
          <div class="activity-number">2</div>
          <div class="activity-title">Multiply to Create Equivalents</div>
        </div>
        <p>Multiply both top and bottom by the same number to create an equivalent fraction!</p>
        <div class="question-card" id="multiplyQuestion"></div>
        <div class="feedback" id="feedback2"></div>
        <div class="activity-complete" id="complete2">
          <h3>Multiplication Master!</h3>
          <p>You can create equivalent fractions!</p>
          <button class="btn btn-primary" onclick="Lesson.showActivity(3)">Continue to Activity 3</button>
        </div>
      </div>

      <!-- Activity 3: Complete the Equivalent -->
      <div class="activity-section" id="activity3" style="display: none;">
        <div class="activity-header">
          <div class="activity-number">3</div>
          <div class="activity-title">Complete the Equivalent Fraction</div>
        </div>
        <p>Find the missing number to make equivalent fractions!</p>
        <div class="question-card" id="completeQuestion"></div>
        <div class="feedback" id="feedback3"></div>
        <div class="activity-complete" id="complete3">
          <h3>Curriculum Complete!</h3>
          <p>You've mastered all 6 fraction lessons! You're a Fraction Champion!</p>
          <button class="btn btn-success btn-large" onclick="Lesson.completeLesson()">Finish All Lessons</button>
        </div>
      </div>

      <div class="lesson-nav">
        <a href="../05-simplifying/index.html" class="btn btn-secondary">‚Üê Previous: Simplifying</a>
        <a href="../../practice/index.html" class="btn btn-secondary">Practice Your Skills ‚Üí</a>
      </div>
    </div>
  </main>

  <script src="../../js/storage.js"></script>
  <script src="../../js/fractions.js"></script>
  <script src="../../js/app.js"></script>
  <script src="../../js/coaches-corner.js"></script>
  <script>
    const Lesson = {
      score: 0, currentActivity: 1, totalActivities: 3,

      matchChallenges: [
        { base: {n:1,d:2}, match: {n:2,d:4}, wrong: [{n:1,d:4},{n:3,d:4}] },
        { base: {n:1,d:3}, match: {n:2,d:6}, wrong: [{n:1,d:6},{n:3,d:6}] },
        { base: {n:2,d:5}, match: {n:4,d:10}, wrong: [{n:2,d:10},{n:3,d:10}] }
      ],
      currentMatchIndex: 0,
      selectedMatchAnswer: null,

      multiplyChallenges: [
        { base: {n:1,d:2}, mult: 2, result: {n:2,d:4} },
        { base: {n:1,d:3}, mult: 3, result: {n:3,d:9} },
        { base: {n:2,d:5}, mult: 2, result: {n:4,d:10} },
        { base: {n:3,d:4}, mult: 2, result: {n:6,d:8} }
      ],
      currentMultIndex: 0,
      selectedMultAnswer: null,

      completeChallenges: [
        { frac1: {n:1,d:2}, frac2: {n:'?',d:4}, answer: 2 },
        { frac1: {n:2,d:3}, frac2: {n:4,d:'?'}, answer: 6 },
        { frac1: {n:1,d:4}, frac2: {n:'?',d:8}, answer: 2 },
        { frac1: {n:3,d:5}, frac2: {n:6,d:'?'}, answer: 10 }
      ],
      currentCompleteIndex: 0,
      selectedCompleteAnswer: null,

      init() {
        Storage.startLesson(6);
        this.renderMatchActivity();
        this.renderMultiplyActivity();
        this.renderCompleteActivity();
        this.updateProgress();
      },

      renderMatchActivity() {
        const c = this.matchChallenges[this.currentMatchIndex];
        this.selectedMatchAnswer = null;
        const options = [c.match, ...c.wrong].sort(() => Math.random() - 0.5);
        document.getElementById('matchActivity').innerHTML = `
          <div class="number-line-container">
            <div class="number-line">
              <div class="number-line-track"></div>
              <div class="number-line-tick major" style="left:0%"></div>
              <div class="number-line-tick major" style="left:100%"></div>
              <div class="number-line-tick" style="left:${(c.base.n/c.base.d)*100}%"></div>
              <div class="number-line-label" style="left:0%">0</div>
              <div class="number-line-label" style="left:100%">1</div>
              <div class="number-line-label" style="left:${(c.base.n/c.base.d)*100}%; background:rgba(255,255,255,0.9); color:var(--field-green); padding:4px 8px; border-radius:4px;">${c.base.n}/${c.base.d}</div>
            </div>
          </div>
          <p style="text-align:center; margin-top:var(--space-lg);">Which fraction is at the same spot as ${c.base.n}/${c.base.d}?</p>
          <div class="fraction-cards">
            ${options.map(o => `<div class="fraction-card" onclick="Lesson.selectMatchAnswer('${o.n}/${o.d}', this)"><span>${o.n}</span><hr style="width:50%;margin:4px 0;border-color:currentColor;"><span>${o.d}</span></div>`).join('')}
          </div>
          <button class="btn btn-primary" id="submitMatch" onclick="Lesson.checkMatch()" style="margin-top: var(--space-lg);">Submit Answer</button>
        `;
      },

      selectMatchAnswer(answer, card) {
        this.selectedMatchAnswer = answer;
        document.querySelectorAll('.fraction-card').forEach(c => c.classList.remove('selected'));
        card.classList.add('selected');
        document.getElementById('feedback1').className = 'feedback';
      },

      checkMatch() {
        if (!this.selectedMatchAnswer) {
          const feedback = document.getElementById('feedback1');
          feedback.textContent = 'Please select an answer first!';
          feedback.className = 'feedback info';
          return;
        }
        const c = this.matchChallenges[this.currentMatchIndex];
        const correct = `${c.match.n}/${c.match.d}`;
        const feedback = document.getElementById('feedback1');
        const answer = this.selectedMatchAnswer;

        document.querySelectorAll('.fraction-card').forEach(card => {
          card.style.pointerEvents = 'none';
          const cardVal = card.textContent.replace(/\s/g,'').replace(/-/g,'');
          const [n,d] = cardVal.split('').filter(c => !isNaN(c));
          if (`${n}/${d}` === correct || cardVal.includes(c.match.n) && cardVal.includes(c.match.d)) card.classList.add('correct');
        });
        document.getElementById('submitMatch').disabled = true;

        if (answer === correct) {
          feedback.textContent = `Correct! ${c.base.n}/${c.base.d} = ${correct} - same position!`;
          feedback.className = 'feedback correct';
          this.score += 5;
          this.updateScore();
        } else {
          feedback.textContent = `${c.base.n}/${c.base.d} = ${correct} - multiply both by ${c.match.n/c.base.n}`;
          feedback.className = 'feedback incorrect';
        }
        setTimeout(() => {
          this.currentMatchIndex++;
          if (this.currentMatchIndex < this.matchChallenges.length) {
            feedback.className = 'feedback';
            this.renderMatchActivity();
          } else {
            document.getElementById('complete1').classList.add('show');
          }
        }, 1500);
      },

      renderMultiplyActivity() {
        const c = this.multiplyChallenges[this.currentMultIndex];
        this.selectedMultAnswer = null;
        const wrong = [
          {n: c.result.n + 1, d: c.result.d},
          {n: c.result.n, d: c.result.d + 1},
          {n: c.base.n + c.mult, d: c.base.d + c.mult}
        ];
        const options = [c.result, ...wrong].sort(() => Math.random() - 0.5);
        document.getElementById('multiplyQuestion').innerHTML = `
          <div class="multiplier-display">
            <span>${c.base.n}/${c.base.d}</span> x <span>${c.mult}/${c.mult}</span> = ?
          </div>
          <p>Multiply both top and bottom by ${c.mult}:</p>
          <div class="answer-options">
            ${options.map(o => `<button class="answer-btn" onclick="Lesson.selectMultAnswer('${o.n}/${o.d}', this)">${o.n}/${o.d}</button>`).join('')}
          </div>
          <button class="btn btn-primary" id="submitMult" onclick="Lesson.checkMultiply()" style="margin-top: var(--space-lg);">Submit Answer</button>
        `;
      },

      selectMultAnswer(answer, btn) {
        this.selectedMultAnswer = answer;
        document.querySelectorAll('#multiplyQuestion .answer-btn').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        document.getElementById('feedback2').className = 'feedback';
      },

      checkMultiply() {
        if (!this.selectedMultAnswer) {
          const feedback = document.getElementById('feedback2');
          feedback.textContent = 'Please select an answer first!';
          feedback.className = 'feedback info';
          return;
        }
        const c = this.multiplyChallenges[this.currentMultIndex];
        const correct = `${c.result.n}/${c.result.d}`;
        const feedback = document.getElementById('feedback2');
        const answer = this.selectedMultAnswer;

        document.querySelectorAll('#multiplyQuestion .answer-btn').forEach(btn => {
          btn.disabled = true;
          if (btn.textContent === correct) btn.classList.add('correct');
          else if (btn.textContent === answer && answer !== correct) btn.classList.add('incorrect');
        });
        document.getElementById('submitMult').disabled = true;

        if (answer === correct) {
          feedback.textContent = `Correct! ${c.base.n}x${c.mult}=${c.result.n} and ${c.base.d}x${c.mult}=${c.result.d}`;
          feedback.className = 'feedback correct';
          this.score += 5;
          this.updateScore();
        } else {
          feedback.textContent = `Multiply BOTH by ${c.mult}: ${c.base.n}x${c.mult}/${c.base.d}x${c.mult} = ${correct}`;
          feedback.className = 'feedback incorrect';
        }
        setTimeout(() => {
          this.currentMultIndex++;
          if (this.currentMultIndex < this.multiplyChallenges.length) {
            feedback.className = 'feedback';
            this.renderMultiplyActivity();
          } else {
            document.getElementById('complete2').classList.add('show');
          }
        }, 1500);
      },

      renderCompleteActivity() {
        const c = this.completeChallenges[this.currentCompleteIndex];
        this.selectedCompleteAnswer = null;
        const wrong = [c.answer + 1, c.answer - 1, c.answer * 2].filter(w => w > 0 && w !== c.answer);
        const options = [c.answer, ...wrong].slice(0,4).sort(() => Math.random() - 0.5);
        const num2Display = c.frac2.n === '?' ? '?' : c.frac2.n;
        const den2Display = c.frac2.d === '?' ? '?' : c.frac2.d;
        document.getElementById('completeQuestion').innerHTML = `
          <div style="font-size:2rem; font-weight:700; margin-bottom:var(--space-lg);">
            <span>${c.frac1.n}/${c.frac1.d}</span> = <span style="color:var(--field-green);">${num2Display}/${den2Display}</span>
          </div>
          <p>What number replaces the ?</p>
          <div class="answer-options">
            ${options.map(o => `<button class="answer-btn" onclick="Lesson.selectCompleteAnswer(${o}, this)">${o}</button>`).join('')}
          </div>
          <button class="btn btn-primary" id="submitComplete" onclick="Lesson.checkComplete()" style="margin-top: var(--space-lg);">Submit Answer</button>
        `;
      },

      selectCompleteAnswer(answer, btn) {
        this.selectedCompleteAnswer = answer;
        document.querySelectorAll('#completeQuestion .answer-btn').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        document.getElementById('feedback3').className = 'feedback';
      },

      checkComplete() {
        if (this.selectedCompleteAnswer === null) {
          const feedback = document.getElementById('feedback3');
          feedback.textContent = 'Please select an answer first!';
          feedback.className = 'feedback info';
          return;
        }
        const c = this.completeChallenges[this.currentCompleteIndex];
        const feedback = document.getElementById('feedback3');
        const answer = this.selectedCompleteAnswer;

        document.querySelectorAll('#completeQuestion .answer-btn').forEach(btn => {
          btn.disabled = true;
          if (parseInt(btn.textContent) === c.answer) btn.classList.add('correct');
          else if (parseInt(btn.textContent) === answer && answer !== c.answer) btn.classList.add('incorrect');
        });
        document.getElementById('submitComplete').disabled = true;

        if (answer === c.answer) {
          feedback.textContent = `Correct! The answer is ${c.answer}`;
          feedback.className = 'feedback correct';
          this.score += 10;
          this.updateScore();
        } else {
          feedback.textContent = `The correct answer is ${c.answer}`;
          feedback.className = 'feedback incorrect';
        }
        setTimeout(() => {
          this.currentCompleteIndex++;
          if (this.currentCompleteIndex < this.completeChallenges.length) {
            feedback.className = 'feedback';
            this.renderCompleteActivity();
          } else {
            document.getElementById('complete3').classList.add('show');
          }
        }, 1500);
      },

      showActivity(num) {
        for (let i = 1; i <= 3; i++) document.getElementById(`activity${i}`).style.display = 'none';
        document.getElementById(`activity${num}`).style.display = 'block';
        this.currentActivity = num;
        document.getElementById('activityNum').textContent = num;
        this.updateProgress();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      },

      updateScore() { document.getElementById('scoreValue').textContent = this.score; },

      updateProgress() {
        const progressPercent = (this.currentActivity - 1) / this.totalActivities;
        const fieldPosition = 10 + (progressPercent * 80);
        const yards = Math.round(progressPercent * 100);
        document.getElementById('footballPosition').style.left = `${fieldPosition}%`;
        document.getElementById('yardsDisplay').innerHTML = `<strong>${yards}</strong> yards to championship ‚Ä¢ <strong>${100 - yards}</strong> yards to glory`;
      },

      completeLesson() {
        Storage.completeLesson(6);
        document.getElementById('footballPosition').style.left = '90%';
        document.getElementById('yardsDisplay').innerHTML = '<strong>SUPER BOWL CHAMPIONS!</strong>';
        // Special Super Bowl celebration with Commanders opponent
        setTimeout(() => { App.celebrateVictory('Commanders', 6, '../../images/nfl-logos/commanders.png'); }, 500);
      }
    };

    document.addEventListener('DOMContentLoaded', () => {
      Lesson.init();
      CoachesCorner.init(6);
    });
  </script>
</body>
</html>
