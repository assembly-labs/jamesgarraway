// Passcode System - Optimized
(function(){const _0x3d7a=['\x30','\x38','\x33'];const _0x5f2b=function(a,b){return String.fromCharCode(a.charCodeAt(0)+b)};const _0x8e1c=function(){const p=[48,56,51,51];return p.map(x=>String.fromCharCode(x)).join('')};const _0x9d4f=atob('MDgzMw==');const _CONFIG={c:_0x8e1c(),m:5,d:864e5};let _e='',_a=_CONFIG.m;const _ps=document.getElementById('passcode-screen'),_ls=document.getElementById('lockout-screen'),_ds=document.querySelectorAll('.dot'),_al=document.getElementById('attempts-left'),_ac=document.getElementById('attempt-counter'),_pb=document.getElementById('progress-bar'),_pt=document.getElementById('progress-text'),_bw=document.getElementById('breach-warning'),_wi=document.getElementById('warning-icon');function _cls(){const lt=localStorage.getItem('lockoutTime');if(lt){const lts=parseInt(lt),ct=Date.now(),te=ct-lts;if(te>=_CONFIG.d){localStorage.removeItem('lockoutTime');localStorage.removeItem('lockoutProgress');localStorage.setItem('passcodeAttempts',_CONFIG.m.toString());_a=_CONFIG.m}else{_sls();return}}}function _tlo(){localStorage.setItem('lockoutTime',Date.now().toString());localStorage.setItem('lockoutProgress','0');_sls()}function _sls(){_ps.style.display='none';_ls.style.display='flex';const sp=localStorage.getItem('lockoutProgress');if(sp==='100'){_pb.style.width='100%';_pt.textContent='100%';_sbw()}else{_afp()}}function _afp(){const sp=localStorage.getItem('lockoutProgress');let p=sp?parseFloat(sp):0;_pb.style.width=p+'%';_pt.textContent=Math.floor(p)+'%';const i=setInterval(()=>{p+=Math.random()*3+1;if(p>=100){p=100;clearInterval(i);localStorage.setItem('lockoutProgress','100');_sbw()}_pb.style.width=p+'%';_pt.textContent=Math.floor(p)+'%';localStorage.setItem('lockoutProgress',p.toString())},150)}function _sbw(){_bw.style.display='block';_wi.classList.remove('flashing');_wi.style.filter='drop-shadow(0 0 40px #ff0000)'}function _la(){const s=localStorage.getItem('passcodeAttempts');_a=s?parseInt(s):_CONFIG.m}function _uad(){_al.textContent=_a;if(_a<=2){_ac.classList.add('warning')}else{_ac.classList.remove('warning')}}function _akl(){const ks=document.querySelectorAll('.key[data-key]');ks.forEach(k=>{k.addEventListener('click',()=>{const kv=k.getAttribute('data-key');_hkp(kv)})})}function _akbl(){document.addEventListener('keydown',(e)=>{if(_ls.style.display==='flex')return;if(e.key>='0'&&e.key<='9'){_hkp(e.key)}else if(e.key==='Backspace'||e.key==='Delete'){_hkp('delete')}})}function _hkp(k){if(k==='delete'){if(_e.length>0){_e=_e.slice(0,-1);_ud()}return}if(_e.length<4){_e+=k;_ud();if(_e.length===4){setTimeout(_vc,400)}}}function _ud(){_ds.forEach((d,i)=>{if(i<_e.length){d.classList.add('filled')}else{d.classList.remove('filled')}})}function _cd(){_ds.forEach(d=>d.classList.remove('filled'))}function _vc(){if(_e===_CONFIG.c){_hs()}else{_hf()}}function _hs(){_ds.forEach(d=>{d.style.background='#00C9B7';d.style.boxShadow='0 0 30px rgba(0, 201, 183, 1)'});const t=new Date().toDateString();sessionStorage.setItem('authenticated','true');sessionStorage.setItem('authDate',t);localStorage.setItem('passcodeAttempts',_CONFIG.m.toString());localStorage.removeItem('lockoutTime');localStorage.removeItem('lockoutProgress');setTimeout(()=>{const r=_gru();window.location.href=r},600)}function _hf(){_a--;localStorage.setItem('passcodeAttempts',_a.toString());if(_a<=0){_tlo()}else{_ps.classList.add('shake-error');setTimeout(()=>{_ps.classList.remove('shake-error')},600);_e='';_cd();_uad()}}function _gru(){const p=new URLSearchParams(window.location.search);const r=p.get('redirect');return r||'/index.html'}function _init(){_cls();_la();_uad();_akl();_akbl()}_init()})();
